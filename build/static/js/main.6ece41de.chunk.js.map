{"version":3,"sources":["services/numbers.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newNumber","post","id","delete","put","Notification","notification","notificationStyle","color","type","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","message","Filter","value","onChange","NumberForm","addNumber","newName","handleNameChange","handleNumberChange","onSubmit","Numbers","numbersToShow","deleteNumber","map","number","name","onClick","App","useState","numbers","setNumbers","setNewName","newPhoneNumber","setNewPhoneNumber","searchString","setSearchString","setNotification","useEffect","numberService","initialNumbers","filter","person","toLowerCase","includes","event","target","console","log","preventDefault","some","window","confirm","find","returnedNumber","n","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6ece41de.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newNumber => {\n    const request = axios.post(baseUrl, newNumber)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newNumber) => {\n    const request = axios.put(`${baseUrl}/${id}`, newNumber)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React from 'react'\n\nconst Notification = ({notification}) => {\n    if (notification === null) {\n        return null\n    } else {\n        const notificationStyle = {\n            color: notification.type === 'error' ? 'red' : 'green',\n            background: 'lightgrey',\n            fontSize: 20,\n            borderStyle: 'solid',\n            borderRadius: 5,\n            padding: 10,\n            marginBottom: 10,\n        }\n        \n        return (\n            <div style={notificationStyle}>\n                {notification.message}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport numberService from './services/numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [numbers, setNumbers] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhoneNumber, setNewPhoneNumber] = useState('')\n  const [searchString, setSearchString] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  // Fetching data from json-server\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(initialNumbers => {\n        const numbersData = initialNumbers\n        setNumbers(numbersData)\n      })\n  }, [])\n\n  // Adding new number\n  const addNumber = event => {\n    event.preventDefault()\n    console.log('button clicked !')\n\n    const nameAlreadyAdded = numbers.some(person => person.name === newName)\n\n    if (nameAlreadyAdded && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one ?`)) {\n      const number = numbers.find(person => person.name === newName)\n      const newNumber = {...number, number: newPhoneNumber}\n\n      numberService\n        .update(number.id, newNumber)\n        .then(returnedNumber => {\n          setNumbers(numbers.map(n => n.id !== returnedNumber.id ? n : returnedNumber))\n          setNewName('')\n          setNewPhoneNumber('')\n          setNotification(\n            {\n              message: `Updated ${returnedNumber.name}`,\n              type: 'success'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        })\n        .catch(error => {\n          setNotification({\n            message: `${error.response.data.error}`,\n            type: 'error'\n          })\n          console.log(error)\n        })\n    } else {\n      const newNumber = {\n        name: newName,\n        number: newPhoneNumber,\n      }\n\n      numberService\n        .create(newNumber)\n        .then(returnedNumber => {\n          setNumbers(numbers.concat(returnedNumber))\n          setNewName('')\n          setNewPhoneNumber('')\n          setNotification(\n            {\n              message: `Updated ${returnedNumber.name}`,\n              type: 'success'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setNotification({\n            message: `${error.response.data.error}`,\n            type: 'error'\n          })\n        })\n    }\n  }\n\n  // Deleting number by id\n  const deleteNumber = id => {\n    if (window.confirm(`Delete ${numbers.find(n => n.id === id).name} ?`)) {\n      numberService\n        .remove(id)\n        .then(response => {\n          console.log(response)\n          setNumbers(numbers.filter(number => number.id !== id))\n        })\n        .catch(error => {\n          console.log(error)\n          setNotification(\n            {\n              message: `Information of ${numbers.find(n => n.id === id).name} has already been removed from server`,\n              type: 'error'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        })\n    }\n  }\n  \n  const numbersToShow = searchString === '' ? numbers : numbers.filter(person => person.name.toLowerCase().includes(searchString.toLowerCase()))\n\n  const handleSearch = event => {\n    setSearchString(event.target.value)\n    console.log(event.target.value)\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value)\n    console.log(event.target.value)\n  }\n\n  const handleNumberChange = event => {\n    setNewPhoneNumber(event.target.value)\n    console.log(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter value={searchString} onChange={handleSearch} />\n      <h3>Add a new</h3>\n      <NumberForm addNumber={addNumber} newName={newName} newNumber={newPhoneNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Numbers numbersToShow={numbersToShow} deleteNumber={deleteNumber} />\n    </div>\n  )\n}\n\nconst Filter = ({value, onChange}) => {\n return (\n  <div>\n    filter shown with <input value={value} onChange={onChange} />\n  </div>\n )\n}\n\nconst NumberForm = ({addNumber, newName, newNumber, handleNameChange, handleNumberChange}) => (\n  <form onSubmit={addNumber}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n)\n\nconst Numbers = ({numbersToShow, deleteNumber}) => (\n  <ul>\n    {numbersToShow.map(number => \n      <li key={number.id}>\n        {number.name} {number.number} \n        <button onClick={() => deleteNumber(number.id)}>delete</button>\n      </li>)}\n  </ul>\n)\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}